{% extends 'gliocas_app/base.html' %}

{% block title_block %}
    Search
{% endblock %}

{% block body_block %}
	<div>
		<h1>Search page</h1>
		<br/>
		<form class="form-inline" id="user_form"
			method="post" action="{% url 'search' %}">
			{% csrf_token %}
			<div class="form-group">
				{% if user_query %}
				<input class="form-control" type="text" size="50"
					name="query" value={{ user_query }} id="query"/>
				{% else %}
				<input class="form-control" type="text" size="50"
					name="query" value="" id="query"/>
				{% endif %}
			</div>
			<button class="btn btn-primary" type="submit" name="submit"
				value="Search">Search</button>
		</form>
		
		<div>
			{% if result_list %}
			<h3>Results</h3>
				<div class="list-group">
					{% for question in result_list %}
						<div class="list-group-item">
							<h4 class="list-group-item-heading">
								<a href="{% url 'show_question' question.course.subject.slug question.course.slug question.slug %}">{{ question.title }}</a>
							</h4>
							<p class="list-group-item-text">{{ question.text }}</p>
						</div>
					{% endfor %}
				</div>
			{% endif %}
		</div>
	</div>
{% endblock %}